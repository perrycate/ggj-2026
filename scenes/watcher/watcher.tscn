[gd_scene load_steps=9 format=3 uid="uid://bm0nx058xtv3u"]

[ext_resource type="Script" uid="uid://dahy7hpota4ua" path="res://scripts/watcher/watcher.gd" id="1_ilq2x"]
[ext_resource type="Script" uid="uid://d115hcpw86va2" path="res://scripts/watcher/watcher_state_machine.gd" id="2_ilq2x"]
[ext_resource type="Script" uid="uid://tlk5xxkkue7f" path="res://scripts/watcher/controlling.gd" id="2_x80ag"]
[ext_resource type="Script" uid="uid://bwdfw7madvuyd" path="res://scripts/watcher/switching.gd" id="3_ilq2x"]
[ext_resource type="Script" uid="uid://bd7bas20njuwq" path="res://scripts/watcher/stunned.gd" id="4_mrnq6"]
[ext_resource type="Shader" uid="uid://denlbln4000b4" path="res://shaders/CRT.gdshader" id="6_mrnq6"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ilq2x"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ge30l"]
shader = ExtResource("6_mrnq6")
shader_parameter/overlay = false
shader_parameter/resolution = Vector2(640, 480)
shader_parameter/brightness = 1.4
shader_parameter/scanlines_opacity = 0.4
shader_parameter/scanlines_width = 0.25
shader_parameter/grille_opacity = 0.3
shader_parameter/roll = true
shader_parameter/roll_speed = 8.0
shader_parameter/roll_size = 15.0
shader_parameter/roll_variation = 1.8
shader_parameter/distort_intensity = 0.05
shader_parameter/aberration = 0.03
shader_parameter/noise_opacity = 0.4
shader_parameter/noise_speed = 5.0
shader_parameter/static_noise_intensity = 0.06
shader_parameter/pixelate = true
shader_parameter/discolor = true
shader_parameter/warp_amount = 1.0
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 0.5

[node name="Watcher" type="Node2D"]
script = ExtResource("1_ilq2x")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_ilq2x")
initial_state = NodePath("Switching")

[node name="Controlling" type="Node" parent="StateMachine"]
script = ExtResource("2_x80ag")

[node name="Switching" type="Node" parent="StateMachine"]
script = ExtResource("3_ilq2x")

[node name="Stunned" type="Node" parent="StateMachine"]
script = ExtResource("4_mrnq6")

[node name="TestVisibility" type="Sprite2D" parent="."]
scale = Vector2(0.030273438, 0.032226563)
texture = SubResource("NoiseTexture2D_ilq2x")

[node name="Sprite2D" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_ge30l")
